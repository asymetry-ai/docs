---
title: "Configuration"
description: "Configure the Asymetry SDK via environment variables"
---

# Configuration

The Asymetry SDK is configured primarily through environment variables. All settings can also be overridden programmatically via `init_observability()`.

## Environment Variables

| Variable | Purpose | Default |
| --- | --- | --- |
| `ASYMETRY_API_KEY` | API key for authentication | **required** |
| `ASYMETRY_API_URL` | Ingest endpoint URL | `https://api.asymetry.co/v1/ingest` |
| `ASYMETRY_ENABLED` | Master switch to enable/disable SDK | `true` |
| `ASYMETRY_BATCH_SIZE` | Number of spans per export batch | `100` |
| `ASYMETRY_FLUSH_INTERVAL` | Seconds between flush cycles | `5.0` |
| `ASYMETRY_QUEUE_MAX_SIZE` | Maximum items in the in-memory queue | `10000` |
| `ASYMETRY_MAX_RETRIES` | Number of retry attempts for failed exports | `3` |
| `ASYMETRY_REQUEST_TIMEOUT` | HTTP timeout in seconds | `10.0` |

---

## Detailed Reference

### ASYMETRY_API_KEY

<ParamField path="ASYMETRY_API_KEY" type="string" required>
  Your Asymetry API key for authentication. Get one from your [dashboard](https://asymetry.co).
</ParamField>

```bash
export ASYMETRY_API_KEY="sk_prod_abc123..."
```

### ASYMETRY_API_URL

<ParamField path="ASYMETRY_API_URL" type="string" default="https://api.asymetry.co/v1/ingest">
  The endpoint where telemetry is sent. Only change this for self-hosted deployments.
</ParamField>

```bash
export ASYMETRY_API_URL="https://your-instance.asymetry.co/v1/ingest"
```

### ASYMETRY_ENABLED

<ParamField path="ASYMETRY_ENABLED" type="boolean" default="true">
  Master switch to enable or disable all instrumentation. Set to `false` in tests or local development.
</ParamField>

```bash
export ASYMETRY_ENABLED="false"  # Disable in tests
```

---

## Batching & Queue Settings

### ASYMETRY_BATCH_SIZE

<ParamField path="ASYMETRY_BATCH_SIZE" type="integer" default="100">
  Number of spans to collect before sending a batch. Lower values mean more frequent exports but more HTTP overhead.
</ParamField>

### ASYMETRY_FLUSH_INTERVAL

<ParamField path="ASYMETRY_FLUSH_INTERVAL" type="float" default="5.0">
  Maximum seconds to wait before flushing the queue, even if batch size isn't reached.
</ParamField>

### ASYMETRY_QUEUE_MAX_SIZE

<ParamField path="ASYMETRY_QUEUE_MAX_SIZE" type="integer" default="10000">
  Maximum number of items in the in-memory queue. When exceeded, oldest items are dropped to prevent memory issues.
</ParamField>

<Warning>
Setting this too low may cause data loss during high-throughput periods. Setting it too high may consume excessive memory.
</Warning>

---

## Network Settings

### ASYMETRY_MAX_RETRIES

<ParamField path="ASYMETRY_MAX_RETRIES" type="integer" default="3">
  Number of retry attempts for failed HTTP requests. Uses exponential backoff between retries.
</ParamField>

### ASYMETRY_REQUEST_TIMEOUT

<ParamField path="ASYMETRY_REQUEST_TIMEOUT" type="float" default="10.0">
  HTTP timeout in seconds for each export request.
</ParamField>

---

## Configuration Examples

### Development Environment

```bash .env.development
ASYMETRY_API_KEY=sk_dev_...
ASYMETRY_ENABLED=true
ASYMETRY_BATCH_SIZE=10          # Smaller batches for faster feedback
ASYMETRY_FLUSH_INTERVAL=2.0     # Flush every 2 seconds
```

### Production Environment

```bash .env.production
ASYMETRY_API_KEY=sk_prod_...
ASYMETRY_ENABLED=true
ASYMETRY_BATCH_SIZE=100
ASYMETRY_FLUSH_INTERVAL=5.0
ASYMETRY_QUEUE_MAX_SIZE=50000   # Larger queue for high throughput
ASYMETRY_MAX_RETRIES=5          # More retries for reliability
```

### Testing Environment

```bash .env.test
ASYMETRY_ENABLED=false   # Disable completely in tests
```

---

## Programmatic Overrides

All environment variables can be overridden when calling `init_observability()`:

```python
from asymetry import init_observability

init_observability(
    api_key="sk_override_...",
    enabled=True,
    log_level="DEBUG",
)
```

<Info>
Programmatic values take precedence over environment variables.
</Info>

---

## Configuration Validation

The SDK validates configuration on startup:

| Validation | Error |
| --- | --- |
| `ASYMETRY_API_KEY` missing when enabled | `ValueError: ASYMETRY_API_KEY is required...` |
| `ASYMETRY_BATCH_SIZE` < 1 | `ValueError: ASYMETRY_BATCH_SIZE must be at least 1` |
| `ASYMETRY_FLUSH_INTERVAL` < 0.1 | `ValueError: ASYMETRY_FLUSH_INTERVAL must be at least 0.1 seconds` |
| `ASYMETRY_QUEUE_MAX_SIZE` < 100 | `ValueError: ASYMETRY_QUEUE_MAX_SIZE must be at least 100` |

---

## Next Steps

<Card title="Tracing" icon="code" href="/sdk/tracing">
  Learn about custom tracing with decorators and context managers
</Card>
